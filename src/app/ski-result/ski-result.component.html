<div class="page-wrapper">

  <!-- HEADER -->
  <div class="header">
    <img class="logo" src="./assets/images/ogso-logo.png" alt="OGSO logo" />
    <h1 class="title">YOUR PERFECT SKI MATCH</h1>
    <div class="header-subtitle">Powered by Smart AI Selection</div>
  </div>

  <!-- MAIN GRID -->
  <div class="content-grid">

    <!-- LEFT COL — SKI RESULTS -->
    <div class="left-col">

      <div class="hero-intro">
        <h2 class="hero-heading">Recommended Skis</h2>
        <p class="hero-sub">Tailored to your profile • Live updates • Best matches</p>
      </div>

      <!-- Loading State -->
      <div *ngIf="isLoading" class="loading-state">
        <div class="loading-spinner"></div>
        <p>Finding your perfect ski matches...</p>
        <div class="loading-pulse"></div>
      </div>

      <!-- Ski Results Grid -->
      <div class="hero-list" [@listAnimation]="animationKey">
        <div
          class="hero-card"
          *ngFor="let r of resultat | slice:0:3"
          [@cardAnimation]
          (click)="openSki(r)"
        >

          <div class="hero-media">
            <img 
              class="hero-img" 
              [src]="r.src" 
              [alt]="r.name" 
              [@imageAnimation]
            />
            <div class="glow"></div>
            <div class="badge">OGSO</div>
            <div class="rank-badge">{{ resultat.indexOf(r) + 1 }}</div>
          </div>

          <div class="hero-body">
            <h3 class="hero-name">{{ r.name }}</h3>
            <p class="hero-meta">{{ r.size }} cm • {{ r.weight }}g</p>

            <div class="hero-score">
              <span 
                class="score-pill" 
                [@scoreAnimation]
                [style.background]="getScoreColor(r.score || 0)"
              >
                Score: {{ r.score }}
              </span>
              <span class="match-percent">
                {{ (r.score || 0) }}% match
              </span>
            </div>

            <div class="ski-features">
              <span class="feature-tag" *ngIf="r.family">{{ r.family }}</span>
              <span class="feature-tag" *ngIf="r.category">{{ r.category }}</span>
            </div>
          </div>

          <div class="card-hover-effect">
            <div class="hover-icon">Click for details</div>
          </div>

        </div>
      </div>

    </div>

    <!-- RIGHT COL — PROFILE + EDITOR -->
    <div class="right-col">
      <div class="profile-card">

        <div class="profile-head">
          <h3>Your Ski Profile</h3>
          <p class="muted">Adjust criteria • Instant results • Smart matching</p>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
          <div class="stat" *ngFor="let item of generatedStats">
            <div class="stat-icon">{{ item.icon }}</div>
            <div class="stat-content">
              <p class="stat-label">{{ item.label }}</p>
              <p class="stat-value">{{ item.value }}</p>
            </div>
          </div>
        </div>

        <!-- Editor Controls -->
        <div class="editor-section">
          <h4 class="editor-title">Adjust Your Preferences</h4>
          
          <div class="editor">
            <div class="form-group">
              <label>Height (cm)</label>
              <input type="number" [(ngModel)]="height" (input)="onInlineCriteriaChange()">
            </div>

            <div class="form-group">
              <label>Weight (kg)</label>
              <input type="number" [(ngModel)]="weight" (input)="onInlineCriteriaChange()">
            </div>

            <div class="form-group">
              <label>Terrain</label>
              <select [(ngModel)]="terrain_type" (change)="onInlineCriteriaChange()">
                <option *ngFor="let opt of terrainOptions" [value]="opt">
                  {{ opt }}
                </option>
              </select>
            </div>

            <div class="form-group">
              <label>Snow Type</label>
              <select [(ngModel)]="type_snow" (change)="onInlineCriteriaChange()">
                <option *ngFor="let opt of snowOptions" [value]="opt">
                  {{ opt }}
                </option>
              </select>
            </div>

            <div class="form-group">
              <label>Riding Style</label>
              <select [(ngModel)]="ski_level_fun" (change)="onInlineCriteriaChange()">
                <option *ngFor="let opt of funOptions" [value]="opt">
                  {{ opt }}
                </option>
              </select>
            </div>
            
            <div class="form-group">
              <label>Turns Style</label>
              <select [(ngModel)]="ski_turns" (change)="onInlineCriteriaChange()">
                <option *ngFor="let opt of turnOptions" [value]="opt">
                  {{ opt }}
                </option>
              </select>
            </div>

            <div class="form-group">
              <label>Speed Preference</label>
              <select [(ngModel)]="ski_speed" (change)="onInlineCriteriaChange()">
                <option *ngFor="let opt of speedOptions" [value]="opt">
                  {{ opt }}
                </option>
              </select>
            </div>
          </div>
        </div>

        <p class="disclaimer">
          All OGSO skis perform exceptionally in all conditions. 
          These are personalized AI recommendations for optimal performance.
        </p>

      </div>

      <!-- Quick Tips -->
      <!-- <div class="tips-card">
        <h4>Pro Tips</h4>
        <ul class="tips-list">
          <li>Higher score = Better match</li>
          <li>Adjust speed for responsiveness</li>
          <li>Terrain affects ski width</li>
          <li>Snow type impacts flex</li>
        </ul>
      </div> -->

    </div>

  </div>
 
</div>